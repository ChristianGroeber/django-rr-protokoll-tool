{% extends 'base.html' %}

{% block content %}
<script>
$(document).ready(function(){
    var acc = document.getElementsByClassName("accordion");
    var i;

    for (i = 0; i < acc.length; i++) {
      acc[i].addEventListener("click", function() {
        this.classList.toggle("active");
        var panel = this.nextElementSibling;
        if (panel.style.maxHeight){
          panel.style.maxHeight = null;
        } else {
          panel.style.maxHeight = panel.scrollHeight + "px";
        }
      });
    }
})
</script>
<style>
        /* Style the buttons that are used to open and close the accordion panel */
    .accordion {
      background-color: #eee;
      color: #444;
      cursor: pointer;
      padding: 18px;
      width: 100%;
      text-align: left;
      border: none;
      outline: none;
      transition: 0.4s;
    }

    /* Add a background color to the button if it is clicked on (add the .active class with JS), and when you move the mouse over it (hover) */
    .active, .accordion:hover {
      background-color: #ccc;
    }

    .panel {
      padding: 0 18px;
      background-color: white;
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.2s ease-out;
</style>
<h1>{{ team }} bearbeiten</h1>
{% for programmpunkt in programmpunkte %}
{{ programmpunkt }}
<button class="accordion">{{ programmpunkt }}</button>
<div class="panel">
  <form method="POST">
    {% csrf_token %}
    <label for="von{{ programmpunkt.id }}">Von: </label>
    <input type="time" id="von{{ programmpunkt.id }}" name="von{{ programmpunkt.id }}" value="{{ programmpunkt.von }}"><br>
    <label for="bis{{ programmpunkt.id }}">Bis: </label>
    <input type="time" id="bis{{ programmpunkt.id }}" name="bis{{ programmpunkt.id }}" value="{{ programmpunkt.bis }}">

    <a href="delete/{{ programmpunkt.id }}">Diesen Programmpunkt entfernen</a>
    <button type="submit">Speichern</button>
  </form>
</div>
{% endfor %}

<button class="accordion">Neuer Programmpunkt</button>
<div class="panel">
  <form method="POST">
    {% csrf_token %}
    <label for="von">Von: </label>
    <input type="time" id="von" name="von" value="">
    <label for="bis">Bis: </label>
    <input type="time" id="bis" name="bis" value="">
    <br><button type="submit">Speichern</button>
  </form>
</div>
{% endblock %}